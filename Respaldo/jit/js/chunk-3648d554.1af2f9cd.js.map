{"version":3,"sources":["webpack:///./src/views/TipoJuego/TipoJuegos.vue","webpack:///./src/views/TipoJuego/TipoJuegos.vue?3f46","webpack:///./src/api/TipoJuegosService.js"],"names":["class","scope","align","TipoJuegos","tipojuego","index","key","idgametype","name","shortname","type","image","rows","readonly","text_instructions","audio_instructions","video_instructions","state","object","icon","EditarTipoJuego","setup","props","context","instance","Router","list","bind","FetchData","uid","title","url_nuevo","unbind","pActual","setPageActual","TipoJuegosService","getTipoJuegosAdministrador","response","status","error","message","changeData","conteo","totalPaginas","value","data","TipoJuego","push","params","id","EliminarTipoJuego","deleteTipoJuego","__exports__","render","idtipo","Promise","resolve","FetchMaster","get","encodeQueryString","idactividad","result","Array","isArray","ObjectSelect","text","page","post","JSONENCODE","put","delete"],"mappings":"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","file":"js/chunk-3648d554.1af2f9cd.js","sourcesContent":["<template>\r\n  <table class=\"table table-bordered table-striped table-hover table-light\">\r\n    <thead class=\"thead-light\">\r\n      <tr>\r\n        <th scope=\"col\">Id</th>\r\n        <th scope=\"col\">Texto</th>\r\n        <th scope=\"col\">Nombre corto</th>\r\n        <th scope=\"col\">Imagen</th>\r\n        <th scope=\"col\">Instrucciones</th>\r\n        <th scope=\"col\">Audio de instrucciones</th>\r\n        <th scope=\"col\">Video de instrucciones</th>\r\n        <th scope=\"col\">Estado</th>\r\n        <th scope=\"col\">Editar</th>\r\n      </tr>\r\n    </thead>\r\n    <tbody>\r\n      <tr v-for=\"(tipojuego, index) in TipoJuegos\" :key=\"index\">\r\n        <th scope=\"row\">{{ tipojuego.idgametype }}</th>\r\n        <td>{{ tipojuego.name }}</td>\r\n        <td>{{ tipojuego.shortname }}</td>\r\n        <td align=\"center\">\r\n          <my-prev-file type=\"image\" v-model=\"tipojuego.image\" />\r\n        </td>\r\n        <td>\r\n          <textarea\r\n            class=\"form-control\"\r\n            rows=\"3\"\r\n            readonly\r\n            v-model=\"tipojuego.text_instructions\"\r\n          >\r\n          </textarea>\r\n        </td>\r\n        <td align=\"center\">\r\n          <my-prev-file type=\"audio\" v-model=\"tipojuego.audio_instructions\" />\r\n        </td>\r\n        <td align=\"center\">\r\n          <my-prev-file type=\"video\" v-model=\"tipojuego.video_instructions\" />\r\n        </td>\r\n        <td>{{ tipojuego.state ? \"Activo\" : \"Inactivo\" }}</td>\r\n        <td align=\"center\">\r\n          <my-link-table\r\n            :object=\"tipojuego\"\r\n            icon=\"fas fa-pen\"\r\n            @click=\"EditarTipoJuego\"\r\n          />\r\n        </td>\r\n      </tr>\r\n    </tbody>\r\n  </table>\r\n</template>\r\n\r\n<script>\r\nimport {\r\n  ref,\r\n  onMounted,\r\n  inject,\r\n  getCurrentInstance,\r\n  onBeforeUnmount,\r\n} from \"vue\";\r\nimport { useRouter } from \"vue-router\";\r\nimport TipoJuegosService from \"../../api/TipoJuegosService.js\";\r\nimport {\r\n  confirm_action,\r\n  message_error,\r\n  message_info,\r\n} from \"../../util/Messages.js\";\r\n\r\nexport default {\r\n  name: \"TipoJuegos\",\r\n  setup(props, context) {\r\n    const instance = getCurrentInstance();\r\n    const TipoJuegos = ref([]);\r\n    const Router = useRouter();\r\n    const list = inject(\"layout-list\");\r\n\r\n    onMounted(async () => {\r\n      list.bind({\r\n        FetchData,\r\n        uid: instance.uid,\r\n        title: \"Mis Tipos de juegos\",\r\n        url_nuevo: \"\",\r\n      });\r\n      await FetchData();\r\n    });\r\n\r\n    onBeforeUnmount(() => {\r\n      list.unbind(instance.uid);\r\n    });\r\n\r\n    const FetchData = async (pActual = 1) => {\r\n      list.setPageActual(pActual);\r\n      const response = await TipoJuegosService.getTipoJuegosAdministrador(\r\n        pActual\r\n      );\r\n      if (!response.status.error) {\r\n        list.changeData(response.conteo, response.totalPaginas);\r\n        TipoJuegos.value = response.data;\r\n      } else {\r\n        message_error(response.status.message);\r\n      }\r\n    };\r\n\r\n    const EditarTipoJuego = (TipoJuego) => {\r\n      Router.push({\r\n        name: \"EditarTipoJuego\",\r\n        params: { id: TipoJuego[\"idgametype\"] },\r\n      });\r\n    };\r\n\r\n    const EliminarTipoJuego = (TipoJuego) => {\r\n      confirm_action(\r\n        \"Confirmación\",\r\n        `Esta seguro de eliminar la TipoJuego ${TipoJuego.name}`,\r\n        async () => {\r\n          const response = await TipoJuegosService.deleteTipoJuego(\r\n            TipoJuego.idgametype\r\n          );\r\n          if (!response.status.error) {\r\n            message_info(\"Registro eliminado correctamente\", async () => {\r\n              await FetchData();\r\n            });\r\n          } else {\r\n            message_error(response.status.message);\r\n          }\r\n        },\r\n        () => {}\r\n      );\r\n    };\r\n\r\n    return {\r\n      TipoJuegos,\r\n      EditarTipoJuego,\r\n      EliminarTipoJuego,\r\n    };\r\n  },\r\n};\r\n</script>\r\n\r\n","import { render } from \"./TipoJuegos.vue?vue&type=template&id=1a990b9e\"\nimport script from \"./TipoJuegos.vue?vue&type=script&lang=js\"\nexport * from \"./TipoJuegos.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"C:\\\\Vinculación\\\\jitvinculaciongadactual\\\\fjitgad\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import FetchMaster from \"./FetchMaster.js\";\r\nimport { encodeQueryString } from \"../util/Utilities.js\";\r\nimport ObjectSelect from \"../util/ObjectSelect.js\";\r\n\r\nclass TipoJuegosService {\r\n\r\n    #urlApi = \"webresources/gametype\"\r\n\r\n    getTipoJuegoAdminstrador(idtipo = 0) {\r\n        return new Promise((resolve) => {\r\n            FetchMaster.get(`${this.#urlApi}/getgametypebyid${encodeQueryString({ 'idgametype': idtipo })}`,\r\n                (data) => resolve(data), true);\r\n        });\r\n    }\r\n\r\n    getTipoJuego(idtipo = 0) {\r\n        return new Promise((resolve) => {\r\n            FetchMaster.get(`${this.#urlApi}/getgametypebyidsk${encodeQueryString({ 'idgametype': idtipo })}`,\r\n                (data) => resolve(data), true);\r\n        });\r\n    }\r\n\r\n    getTipoJuegoPorActividad(idactividad = 0){\r\n        return new Promise((resolve) => {\r\n            FetchMaster.get(`${this.#urlApi}/getgametypewithgames${encodeQueryString({ 'idactivitiestype': idactividad })}`,\r\n                (data) => resolve(data), true);\r\n        });\r\n    }\r\n\r\n    getTipoJuegosSelectMenu() {\r\n        return new Promise((resolve) => {\r\n            FetchMaster.get(`${this.#urlApi}/getgametypecv`, (data) => {\r\n                const result = [];\r\n                if (Array.isArray(data.data)) {\r\n                    for (const tipojuego of data.data) {\r\n                        result.push(new ObjectSelect(tipojuego.id, tipojuego.text, tipojuego.value));\r\n                    }\r\n                }\r\n                resolve(result);\r\n            }, true, false);\r\n        });\r\n    }\r\n\r\n    getTipoJuegosAdministrador(page = 1) {\r\n        return new Promise((resolve) => {\r\n            FetchMaster.get(`${this.#urlApi}/getgametypeAdmin${encodeQueryString({ 'page': page })}`,\r\n                (data) => resolve(data), true, true)\r\n        });\r\n    }\r\n\r\n    postTipoJuego(TipoJuego) {\r\n        return new Promise((resolve) => {\r\n            FetchMaster.post(`${this.#urlApi}/Postgametype`, TipoJuego, (data) => resolve(data),\r\n            FetchMaster.JSONENCODE, true);\r\n        });\r\n    }\r\n\r\n    putTipoJuego(TipoJuego) {\r\n        return new Promise((resolve) => {\r\n            FetchMaster.put(`${this.#urlApi}/Putgametype`,\r\n                TipoJuego, (data) => resolve(data), FetchMaster.JSONENCODE, true);\r\n        });\r\n    }\r\n\r\n    deleteTipoJuego(idgametype = 0) {\r\n        return new Promise(async (resolve) => {\r\n            await FetchMaster.delete(`${this.#urlApi}/Deletegametype`, { 'idgametype': idgametype }, (data) => resolve(data));\r\n        });\r\n    }\r\n}\r\n\r\n\r\nexport default new TipoJuegosService(); "],"sourceRoot":""}