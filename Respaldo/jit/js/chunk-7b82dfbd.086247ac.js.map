{"version":3,"sources":["webpack:///./src/api/JuegosService.js","webpack:///./src/views/Juego/Juegos.vue","webpack:///./src/views/Juego/Juegos.vue?1872"],"names":["JuegosService","gameid","Promise","resolve","FetchMaster","get","encodeQueryString","data","page","Juego","post","JSONENCODE","put","idjuego","delete","class","scope","align","roles","Juegos","juego","index","key","idgame","name","state","type","image","level","nameactivities","namegametype","object","icon","Editarjuego","Eliminarjuego","setup","props","context","instance","Router","list","bind","FetchData","uid","title","url_nuevo","unbind","pActual","setPageActual","getJuegosAdministrador","response","status","error","message","changeData","conteo","totalPaginas","value","push","params","id","deleteJuego","__exports__","render"],"mappings":"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","file":"js/chunk-7b82dfbd.086247ac.js","sourcesContent":["import FetchMaster from \"./FetchMaster.js\";\r\nimport { encodeQueryString } from \"../util/Utilities.js\";\r\n\r\nclass JuegosService {\r\n\r\n  #urlApi = \"webresources/game\"\r\n\r\n  getJuegoAdministrador(gameid = 0) {\r\n    return new Promise((resolve) => {\r\n      FetchMaster.get(`${this.#urlApi}/getGamebyid${encodeQueryString({ 'idgame': gameid })}`,\r\n        (data) => resolve(data), true);\r\n    });\r\n  }\r\n\r\n  getJuego(gameid = 0) {\r\n    return new Promise((resolve) => {\r\n      FetchMaster.get(`${this.#urlApi}/getGamebyidsk${encodeQueryString({ 'idgame': gameid })}`,\r\n        (data) => resolve(data), true);\r\n    });\r\n  }\r\n\r\n  getJuegosAdministrador(page = 1) {\r\n    return new Promise((resolve) => {\r\n      FetchMaster.get(`${this.#urlApi}/getGameAdmin${encodeQueryString({ 'page': page })}`,\r\n        (data) => resolve(data), true, true)\r\n    });\r\n  }\r\n\r\n  postJuego(Juego) {\r\n    return new Promise((resolve) => {\r\n      FetchMaster.post(`${this.#urlApi}/postGame`, Juego, (data) => resolve(data), FetchMaster.JSONENCODE, true);\r\n    });\r\n  }\r\n\r\n  putJuego(Juego) {\r\n    return new Promise((resolve) => {\r\n      FetchMaster.put(`${this.#urlApi}/putGame`,\r\n        Juego, (data) => resolve(data), FetchMaster.JSONENCODE, true);\r\n    });\r\n  }\r\n\r\n  deleteJuego(idjuego = 0) {\r\n    return new Promise(async (resolve) => {\r\n      await FetchMaster.delete(`${this.#urlApi}/deleteGame`, { 'idgame': idjuego }, (data) => resolve(data));\r\n    });\r\n  }\r\n}\r\n\r\n\r\nexport default new JuegosService(); ","<template>\r\n  <table class=\"table table-bordered table-striped table-hover table-light\">\r\n    <thead class=\"thead-light\">\r\n      <tr>\r\n        <th scope=\"col\">Id</th>\r\n        <th scope=\"col\">Nombre</th>\r\n        <th scope=\"col\">Estado</th>\r\n        <th scope=\"col\">Portada</th>\r\n        <th scope=\"col\">Niveles</th>\r\n        <th scope=\"col\">Tipo de actividad</th>\r\n        <th scope=\"col\">Tipo de juego</th>\r\n        <th scope=\"col\">Editar</th>\r\n        <my-autorization roles=\"Administrador\">\r\n          <th scope=\"col\">Eliminar</th>\r\n        </my-autorization>\r\n      </tr>\r\n    </thead>\r\n    <tbody>\r\n      <tr v-for=\"(juego, index) in Juegos\" :key=\"index\">\r\n        <th scope=\"row\">{{ juego.idgame }}</th>\r\n        <td>{{ juego.name }}</td>\r\n        <td>{{ juego.state ? \"Activo\" : \"Inactivo\" }}</td>\r\n        <td align=\"center\">\r\n          <my-prev-file type=\"image\" v-model=\"juego.image\" />\r\n        </td>\r\n        <td align=\"center\">{{ juego.level }}</td>\r\n        <td align=\"center\">{{ juego.nameactivities }}</td>\r\n        <td align=\"center\">{{ juego.namegametype }}</td>\r\n        <td align=\"center\">\r\n          <my-link-table\r\n            :object=\"juego\"\r\n            icon=\"fas fa-pen\"\r\n            @click=\"Editarjuego\"\r\n          />\r\n        </td>\r\n        <my-autorization roles=\"Administrador\">\r\n          <td align=\"center\">\r\n            <my-link-table\r\n              :object=\"juego\"\r\n              icon=\"fas fa-trash\"\r\n              @click=\"Eliminarjuego\"\r\n            />\r\n          </td>\r\n        </my-autorization>\r\n      </tr>\r\n    </tbody>\r\n  </table>\r\n</template>\r\n\r\n<script>\r\nimport {\r\n  ref,\r\n  onMounted,\r\n  inject,\r\n  getCurrentInstance,\r\n  onBeforeUnmount,\r\n} from \"vue\";\r\nimport { useRouter } from \"vue-router\";\r\nimport JuegosService from \"../../api/JuegosService.js\";\r\nimport {\r\n  confirm_action,\r\n  message_error,\r\n  message_info,\r\n} from \"../../util/Messages.js\";\r\n\r\nexport default {\r\n  name: \"Juegos\",\r\n  setup(props, context) {\r\n    const instance = getCurrentInstance();\r\n    const Juegos = ref([]);\r\n    const Router = useRouter();\r\n    const list = inject(\"layout-list\");\r\n\r\n    onMounted(async () => {\r\n      list.bind({\r\n        FetchData,\r\n        uid: instance.uid,\r\n        title: \"Mis Juegos\",\r\n        url_nuevo: \"/create/juego\",\r\n      });\r\n      await FetchData();\r\n    });\r\n\r\n    onBeforeUnmount(() => {\r\n      list.unbind(instance.uid);\r\n    });\r\n\r\n    const FetchData = async (pActual = 1) => {\r\n      list.setPageActual(pActual);\r\n      const response = await JuegosService.getJuegosAdministrador(pActual);\r\n      if (!response.status.error) {\r\n        list.changeData(response.conteo, response.totalPaginas);\r\n        Juegos.value = response.data;\r\n      } else {\r\n        message_error(response.status.message);\r\n      }\r\n    };\r\n\r\n    function Editarjuego(juego) {\r\n      Router.push({\r\n        name: \"EditarJuego\",\r\n        params: { id: juego[\"idgame\"] },\r\n      });\r\n    }\r\n\r\n    function Eliminarjuego(juego) {\r\n      confirm_action(\r\n        \"Confirmación\",\r\n        `Esta seguro de eliminar el juego ${juego.name}`,\r\n        async () => {\r\n          const response = await JuegosService.deleteJuego(\r\n            juego.idgame\r\n          );\r\n          if (!response.status.error) {\r\n            message_info(\"Registro eliminado correctamente\", async () => {\r\n              await FetchData();\r\n            });\r\n          } else {\r\n            message_error(response.status.message);\r\n          }\r\n        },\r\n        () => {}\r\n      );\r\n    }\r\n\r\n    return {\r\n      Juegos,\r\n      Editarjuego,\r\n      Eliminarjuego,\r\n    };\r\n  },\r\n};\r\n</script>\r\n\r\n","import { render } from \"./Juegos.vue?vue&type=template&id=de6d3e14\"\nimport script from \"./Juegos.vue?vue&type=script&lang=js\"\nexport * from \"./Juegos.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"C:\\\\Vinculación\\\\jitvinculaciongadactual\\\\fjitgad\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"sourceRoot":""}