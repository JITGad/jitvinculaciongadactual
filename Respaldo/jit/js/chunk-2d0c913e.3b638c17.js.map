{"version":3,"sources":["webpack:///./src/views/Usuario/Usuarios.vue","webpack:///./src/views/Usuario/Usuarios.vue?bc45"],"names":["class","scope","align","Usuarios","usuario","index","key","iduser","names","last_name","email","rol","state","type","image","object","icon","EditarUsuario","EliminarUsuario","name","setup","props","context","instance","Router","list","bind","FetchData","uid","title","url_nuevo","unbind","pActual","setPageActual","UsuariosService","getUsuariosAdministrador","response","status","error","message","changeData","conteo","totalPaginas","value","data","_usuario","push","params","id","deleteUsuario","__exports__","render"],"mappings":"0IACSA,MAAM,8D,EACX,eAYQ,SAZDA,MAAM,eAAa,CACxB,eAUK,WATH,eAAuB,MAAnBC,MAAM,OAAM,MAChB,eAA2B,MAAvBA,MAAM,OAAM,UAChB,eAA6B,MAAzBA,MAAM,OAAM,YAChB,eAAuC,MAAnCA,MAAM,OAAM,sBAChB,eAAwB,MAApBA,MAAM,OAAM,OAChB,eAA2B,MAAvBA,MAAM,OAAM,UAChB,eAA2B,MAAvBA,MAAM,OAAM,UAChB,eAA2B,MAAvBA,MAAM,OAAM,UAChB,eAA6B,MAAzBA,MAAM,OAAM,gB,MAKZA,MAAM,O,GAMNC,MAAM,U,GAGNA,MAAM,U,GAONA,MAAM,U,uHAhChB,eAyCQ,QAzCR,EAyCQ,CAxCN,EAaA,eA0BQ,e,mBAzBN,eAwBK,2BAxB0B,EAAAC,UAAQ,SAA3BC,EAASC,G,wBAArB,eAwBK,MAxBqCC,IAAKD,GAAK,CAClD,eAAyC,KAAzC,EAAyC,eAAtBD,EAAQG,QAAM,GACjC,eAA4B,yBAArBH,EAAQI,OAAK,GACpB,eAAgC,yBAAzBJ,EAAQK,WAAS,GACxB,eAA4B,yBAArBL,EAAQM,OAAK,GACpB,eAA0B,yBAAnBN,EAAQO,KAAG,GAClB,eAAoD,yBAA7CP,EAAQQ,MAAK,wBACpB,eAEK,KAFL,EAEK,CADH,eAAqD,GAAvCC,KAAK,Q,WAAiBT,EAAQU,M,yCAARV,EAAQU,MAAK,I,+CAEnD,eAMK,KANL,EAMK,CALH,eAIE,GAHCC,OAAQX,EACTY,KAAK,aACJ,QAAO,EAAAC,e,+BAGZ,eAMK,KANL,EAMK,CALH,eAIE,GAHCF,OAAQX,EACTY,KAAK,eACJ,QAAO,EAAAE,iB,8GAwBL,GACbC,KAAM,WACNC,MAFa,SAEPC,EAAOC,GACX,IAAMC,EAAW,iBACXpB,EAAW,eAAI,IACfqB,EAAS,iBACTC,EAAO,eAAO,eAEpB,eAAS,wCAAC,qGACRA,EAAKC,KAAK,CACRC,YACAC,IAAKL,EAASK,IACdC,MAAO,eACPC,UAAW,oBALL,SAOFH,IAPE,4CAUV,gBAAgB,WACdF,EAAKM,OAAOR,EAASK,QAGvB,IAAMD,EAAQ,yDAAI,yHAAOK,EAAP,+BAAiB,EACjCP,EAAKQ,cAAcD,GADH,SAEOE,EAAA,KAAgBC,yBAAyBH,GAFhD,OAEVI,EAFU,OAGXA,EAASC,OAAOC,MAInB,eAAcF,EAASC,OAAOE,UAH9Bd,EAAKe,WAAWJ,EAASK,OAAQL,EAASM,cAC1CvC,EAASwC,MAAQP,EAASQ,MALZ,2CAAJ,qDAWR3B,EAAgB,SAAC4B,GACrBrB,EAAOsB,KAAK,CACV3B,KAAM,gBACN4B,OAAQ,CAAEC,GAAIH,EAAS,cAIrB3B,EAAkB,SAAC2B,GACvB,eACE,eADY,6CAE0BA,EAASrC,OAFnC,wCAGZ,oHACyB0B,EAAA,KAAgBe,cACrCJ,EAAStC,QAFb,OACQ6B,EADR,OAIOA,EAASC,OAAOC,MAKnB,eAAcF,EAASC,OAAOE,SAJ9B,eAAa,mCAAD,wCAAqC,8GACzCZ,IADyC,4CALrD,4CAYA,gBAIJ,MAAO,CACLxB,WACAc,gBACAC,qB,qBCvHN,MAAMgC,EAA2B,IAAgB,EAAQ,CAAC,CAAC,SAASC,KAErD","file":"js/chunk-2d0c913e.3b638c17.js","sourcesContent":["<template>\r\n  <table class=\"table table-bordered table-striped table-hover table-light\">\r\n    <thead class=\"thead-light\">\r\n      <tr>\r\n        <th scope=\"col\">Id</th>\r\n        <th scope=\"col\">Nombre</th>\r\n        <th scope=\"col\">Apellido</th>\r\n        <th scope=\"col\">Correo electronico</th>\r\n        <th scope=\"col\">Rol</th>\r\n        <th scope=\"col\">Estado</th>\r\n        <th scope=\"col\">Imagen</th>\r\n        <th scope=\"col\">Editar</th>\r\n        <th scope=\"col\">Eliminar</th>\r\n      </tr>\r\n    </thead>\r\n    <tbody>\r\n      <tr v-for=\"(usuario, index) in Usuarios\" :key=\"index\">\r\n        <th scope=\"row\">{{ usuario.iduser }}</th>\r\n        <td>{{ usuario.names }}</td>\r\n        <td>{{ usuario.last_name }}</td>\r\n        <td>{{ usuario.email }}</td>\r\n        <td>{{ usuario.rol }}</td>\r\n        <td>{{ usuario.state ? \"Activo\" : \"Inactivo\" }}</td>\r\n        <td align=\"center\">\r\n          <my-prev-file type=\"image\" v-model=\"usuario.image\" />\r\n        </td>\r\n        <td align=\"center\">\r\n          <my-link-table\r\n            :object=\"usuario\"\r\n            icon=\"fas fa-pen\"\r\n            @click=\"EditarUsuario\"\r\n          />\r\n        </td>\r\n        <td align=\"center\">\r\n          <my-link-table\r\n            :object=\"usuario\"\r\n            icon=\"fas fa-trash\"\r\n            @click=\"EliminarUsuario\"\r\n          />\r\n        </td>\r\n      </tr>\r\n    </tbody>\r\n  </table>\r\n</template>\r\n\r\n<script>\r\nimport {\r\n  ref,\r\n  onMounted,\r\n  inject,\r\n  getCurrentInstance,\r\n  onBeforeUnmount,\r\n} from \"vue\";\r\nimport { useRouter } from \"vue-router\";\r\nimport UsuariosService from \"../../api/UsuariosService.js\";\r\nimport {\r\n  confirm_action,\r\n  message_error,\r\n  message_info,\r\n} from \"../../util/Messages.js\";\r\n\r\nexport default {\r\n  name: \"Usuarios\",\r\n  setup(props, context) {\r\n    const instance = getCurrentInstance();\r\n    const Usuarios = ref([]);\r\n    const Router = useRouter();\r\n    const list = inject(\"layout-list\");\r\n\r\n    onMounted(async () => {\r\n      list.bind({\r\n        FetchData,\r\n        uid: instance.uid,\r\n        title: \"Mis Usuarios\",\r\n        url_nuevo: \"/create/usuario\",\r\n      });\r\n      await FetchData();\r\n    });\r\n\r\n    onBeforeUnmount(() => {\r\n      list.unbind(instance.uid);\r\n    });\r\n\r\n    const FetchData = async (pActual = 1) => {\r\n      list.setPageActual(pActual);\r\n      const response = await UsuariosService.getUsuariosAdministrador(pActual);\r\n      if (!response.status.error) {\r\n        list.changeData(response.conteo, response.totalPaginas);\r\n        Usuarios.value = response.data;\r\n      } else {\r\n        message_error(response.status.message);\r\n      }\r\n    };\r\n\r\n    const EditarUsuario = (_usuario) => {\r\n      Router.push({\r\n        name: \"EditarUsuario\",\r\n        params: { id: _usuario[\"iduser\"] },\r\n      });\r\n    };\r\n\r\n    const EliminarUsuario = (_usuario) => {\r\n      confirm_action(\r\n        \"Confirmación\",\r\n        `Esta seguro de eliminar la Usuario ${_usuario.names}`,\r\n        async () => {\r\n          const response = await UsuariosService.deleteUsuario(\r\n            _usuario.iduser\r\n          );\r\n          if (!response.status.error) {\r\n            message_info(\"Registro eliminado correctamente\", async () => {\r\n              await FetchData();\r\n            });\r\n          } else {\r\n            message_error(response.status.message);\r\n          }\r\n        },\r\n        () => {}\r\n      );\r\n    };\r\n\r\n    return {\r\n      Usuarios,\r\n      EditarUsuario,\r\n      EliminarUsuario,\r\n    };\r\n  },\r\n};\r\n</script>","import { render } from \"./Usuarios.vue?vue&type=template&id=49fb9dc0\"\nimport script from \"./Usuarios.vue?vue&type=script&lang=js\"\nexport * from \"./Usuarios.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"C:\\\\Vinculación\\\\jitvinculaciongadactual\\\\fjitgad\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"sourceRoot":""}